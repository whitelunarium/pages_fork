---
layout: page
toc: true
title: AP CSA 1.3 and 1.4 Lesson Quiz
permalink: /csa/1_3_4/quiz
author: Ahaan, Arnav, Nikhil, Xavier, Spencer, Shaurya
---

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java History - Partners</title>
    <style>
        body {
            color: #ffffff;
            font-family: Arial, sans-serif;
            text-align: center;
            overflow-y: auto;
        }
        #gameBoard {
            width: 800px;
            height: 200px;
            border: 6px solid white;
            margin: 20px auto;
            position: relative;
            background-color: #eee;
        }
        .player {
            width: 30px;
            height: 30px;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            border-radius: 50%;
            transition: left 0.1s linear; /* Smooth movement */
        }
        #player1 { background-color: red; left: 20px; }
        #player2 { background-color: blue; left: 740px; }
        .popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            font-size: 24px;
            z-index: 999;
            text-align: center;
        }
        .popup.hidden {
            display: none;
        }
        .regularButton {
            all: unset;
            background-color: white !important;
            border: 2px solid #ccc;
            border-radius: 12px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease;
            font-weight: bold;
            color: black !important;
            text-decoration: none; /* For the anchor tag inside */
            display: inline-block;
        }
        .regularButton:hover {
            background-color: gray !important;
            transform: scale(1.05);
        }
        .regularButton:active {
            background-color: darkgrey !important;
            transform: scale(0.95);
        }
        #options-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 15px;
        }
        .option-btn {
            background-color: #333;
            color: white;
            border: 1px solid #ffdd57;
            padding: 10px 15px;
            margin: 5px 0;
            width: 400px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.2s;0
            font-size: 1em;
            text-align: center;
        }
        .option-btn:hover {
            background-color: #555;
        }
        .option-btn.disabled {
            cursor: default;
            opacity: 0.7;
        }
        .correct-answer {
            background: #4CAF50 !important;
        }
        .incorrect-answer {
            background: #ff4444 !important;
        }
        #explosion {
            position: absolute;
            top: 50%;
            left: 50%; 
            transform: translate(-50%, -50%);
            width: 48px; /* Width of a single frame */
            height: 48px; /* Height of a single frame */
            /* Updated path to images folder at site root */
            background-image: url('/images/exp2.png'); 
            background-repeat: no-repeat;
            display: none; 
        }
        @keyframes explode {
            0%   { background-position: 0px 0px; }
            8.3%  { background-position: -48px 0px; }  /* (1/12) */
            16.6% { background-position: -96px 0px; }  /* (2/12) */
            24.9% { background-position: -144px 0px; } /* (3/12) */
            33.2% { background-position: 0px -48px; }  /* (4/12) */
            41.5% { background-position: -48px -48px; } /* (5/12) */
            49.8% { background-position: -96px -48px; } /* (6/12) */
            58.1% { background-position: -144px -48px; } /* (7/12) */
            /* Row 3 (Y=-96) */
            66.4% { background-position: 0px -96px; }  /* (8/12) */
            74.7% { background-position: -48px -96px; } /* (9/12) */
            83.0% { background-position: -96px -96px; } /* (10/12) */
            91.3% { background-position: -144px -96px; } /* (11/12) */
            /* Final position (to ensure it stays on the last frame) */
            100% { background-position: -144px -96px; } 
        }
        .exploding {
            display: block !important;
            animation: explode 0.8s linear forwards; /* 0.8s duration, linear timing, 12 frames, 1000ms / 12 frames = ~83ms per frame. */
        }
    </style>
</head>
<body>
    <div id="readyPopup" class="popup">
        <p>Welcome to the Java Quiz Collision Game!</p>
        <p>Your goal is to answer all questions correctly to move the players back and prevent them from colliding.</p>
        <p>Press any key to start the timer and begin the game!</p>
        <p id="readyStatus" style="color:#ffdd57;">Game starts on first key press.</p>
    </div>
    <div id="gameContent" class="hidden" style="padding-bottom: 50px;">
        <div id="questionBox">
            <h3 id="question">Loading question...</h3>
        </div>
        <div id="options-container">
            </div>
        <div id="feedback" style="min-height: 40px; margin: 15px 0;"></div>
        <div id="gameBoard">
            <div id="player1" class="player"></div>
            <div id="player2" class="player"></div>
            <div id="explosion"></div>
        </div>
        <h3 id="scoreInfo">Score: 0 / 10</h3>
        <h3 id="stopwatch">Time: 0 seconds</h3>
        <p></p>
        <button class="regularButton" onclick="location.reload()">Restart Game</button>
    </div>
    <div id="gameOverPopup" class="popup hidden">
        <h3 id="gameOverTitle">Collision! Game Over.</h3>
        <p id="gameOverMessage"></p>
        <p style="margin-top: 20px;">Do you want to play again?</p>
        <button class="regularButton" onclick="location.reload()">Play Again</button>
    </div>
    <script>
        // --- GAME CONFIGURATION ---
        const MOVE_BACKWARD_AMOUNT = 30; // Pixels to move back on correct answer
        const PLAYER_SPEED = 1;         // Pixels moved toward each other per interval
        const INTERVAL_MS = 100;        // Game loop speed (10 times per second)
        const BOARD_WIDTH = 800;
        const PLAYER_SIZE = 30;
        const EXPLOSION_FRAME_SIZE = 48; // sprite frame size (matches CSS)
        const COLLISION_THRESHOLD = PLAYER_SIZE - 2; // Collision happens when the distance is less than a player size
        // Java Questions (hardcoded)
        const combinedQuestions = [
            { text: "What does `System.out.println()` do in Java?", options: ["Print text with a newline character", "Print text without a newline character", "Read input from the console", "Declare a new variable"], correct: 0, explanation: "The `println` method (print line) prints text to the console and then advances to the next line." },
            { text: "What is the result of the integer division expression `7 / 3` in Java?", options: ["2.333...", "2", "3", "1"], correct: 1, explanation: "Integer division truncates the decimal part." },
            { text: "Which escape sequence is used to create a new line when printing a String?", options: ["\\t", "\\n", "\\r", "\\\""], correct: 1, explanation: "The escape sequence **`\\n`** represents the newline character." },
            { text: "What will `System.out.println(\"Result: \" + 5 + 3);` output?", options: ["Result: 8", "Result: 53", "Result: 5+3", "A compile-time error"], correct: 1, explanation: "String concatenation occurs left-to-right: `\"Result: \" + 5` results in a string, leading to `\"Result: 53\"`." },
            { text: "What does the modulus operator (`%`) do in Java?", options: ["Performs floating-point division", "Calculates the remainder of a division", "Raises a number to a power", "Converts a number to a percentage"], correct: 1, explanation: "The modulus operator **`%`** returns the **remainder** of an integer division." },
            { text: "What is the primary function of the assignment operator (`=`)?", options: ["Compares two values for equality", "Declares a new variable's data type", "Stores a value into a variable", "Performs arithmetic addition"], correct: 2, explanation: "The assignment operator (`=`) stores a value into a variable." },
            { text: "Why is the statement `String s = 5;` wrong in Java?", options: ["The variable name 's' is reserved", "The value '5' is an `int`, which cannot be assigned directly to a `String` variable", "It is a syntax error (missing semicolon)", "Variables must be declared with `var`"], correct: 1, explanation: "Java is strongly-typed; an integer cannot be assigned to a String variable." },
            { text: "Which `Scanner` method is used to read an entire line of text input?", options: ["`nextInt()`", "`nextLine()`", "`nextDouble()`", "`next()`"], correct: 1, explanation: "`nextLine()` reads all characters up to the next newline character." },
            { text: "What value will `x` have after: `int x = 4; x = x + 3;`", options: ["4", "7", "3", "1"], correct: 1, explanation: "x becomes 7 after the assignment statement executes." },
            { text: "What is the key purpose of using a `Scanner` object?", options: ["To define the main method", "To output data to the user", "To capture and handle user input", "To perform complex calculations"], correct: 2, explanation: "The `Scanner` class is primarily used to capture and handle user input." }
        ];
        // --- GAME VARIABLES ---
        let timeElapsed = 0;
        let stopwatchInterval;
        let movementInterval;
        let player1Pos = 20; // Initial position (left margin)
        let player2Pos = 740; // Initial position (board width - player size - right margin)
        let currentQuestionIndex = 0;
        let score = 0;
        let gameStarted = false;
        let questionAnswered = true; // True to allow next question to load on start
        const player1 = document.getElementById("player1");
        const player2 = document.getElementById("player2");
        const explosionDiv = document.getElementById("explosion");
         const readyPopup = document.getElementById("readyPopup");
         const gameOverPopup = document.getElementById("gameOverPopup");
         const questionText = document.getElementById("question");
         const optionsContainer = document.getElementById("options-container");
         const feedbackDiv = document.getElementById("feedback");
         const scoreInfo = document.getElementById("scoreInfo");
        // --- GAME LOGIC FUNCTIONS ---
        function startStopwatch() {
            stopwatchInterval = setInterval(() => {
                timeElapsed++;
                document.getElementById("stopwatch").textContent = `Time: ${timeElapsed} seconds`;
            }, 1000);
        }
        function stopStopwatch() {
            clearInterval(stopwatchInterval);
            clearInterval(movementInterval);
        }
        function startMovement() {
            // Player 1 starts at 20, Player 2 starts at 740. Collision is when P1_right_edge >= P2_left_edge
            movementInterval = setInterval(() => {
                player1Pos += PLAYER_SPEED;
                player2Pos -= PLAYER_SPEED;
                player1.style.left = player1Pos + "px";
                player2.style.left = player2Pos + "px";
                // Check for collision: P1 right edge (P1Pos + P1Size) vs P2 left edge (P2Pos)
                if (player1Pos + COLLISION_THRESHOLD >= player2Pos) {
                    stopStopwatch();
                    endGame(false); // Collision
                }
            }, INTERVAL_MS);
        }
        function updateQuestion() {
            if (currentQuestionIndex >= combinedQuestions.length) {
                stopStopwatch();
                endGame(true); // Win condition
                return;
            }
            questionAnswered = false; // Lock the game until an answer is submitted
            const q = combinedQuestions[currentQuestionIndex];
            questionText.textContent = `Q${currentQuestionIndex + 1}: ${q.text}`;
            optionsContainer.innerHTML = '';
            feedbackDiv.innerHTML = '';
            // Randomize options for the current question
            const optionsWithIndex = q.options
                .map((opt, index) => ({ opt, index }))
                .sort(() => Math.random() - 0.5);
            optionsWithIndex.forEach((item) => {
                let btn = document.createElement("button");
                btn.className = "option-btn";
                btn.textContent = item.opt;
                btn.dataset.originalIndex = item.index; // Store the original correct index
                btn.onclick = () => submitAnswer(btn, parseInt(item.index), q.correct, q.explanation);
                optionsContainer.appendChild(btn);
            });
        }
        function submitAnswer(selectedButton, selectedIndex, correctAnswerIndex, explanation) {
            if (questionAnswered) return; // Prevent multiple clicks
            questionAnswered = true;
            // Disable all buttons after selection
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.add('disabled');
                btn.onclick = null;
            });
            const isCorrect = selectedIndex === correctAnswerIndex;
            if (isCorrect) {
                score++;
                // Move players back (away from each other)
                player1Pos -= MOVE_BACKWARD_AMOUNT;
                player2Pos += MOVE_BACKWARD_AMOUNT;
                // Ensure players don't move off the board
                player1Pos = Math.max(20, player1Pos);
                player2Pos = Math.min(BOARD_WIDTH - PLAYER_SIZE - 20, player2Pos);
                player1.style.left = player1Pos + "px";
                player2.style.left = player2Pos + "px";
                selectedButton.classList.add("correct-answer");
                feedbackDiv.innerHTML = `<span style="color:#4CAF50; font-weight:bold;">CORRECT!</span> Players moved back. ${explanation}`;
            } else {
                // Highlight incorrect choice
                selectedButton.classList.add("incorrect-answer");
                // Highlight correct choice
                document.querySelectorAll('.option-btn').forEach(btn => {
                    if (parseInt(btn.dataset.originalIndex) === correctAnswerIndex) {
                        btn.classList.add("correct-answer");
                    }
                });
                feedbackDiv.innerHTML = `<span style="color:#ff4444; font-weight:bold;">INCORRECT!</span> Correct answer was: ${combinedQuestions[currentQuestionIndex].options[correctAnswerIndex]}. ${explanation}`;
            }
            scoreInfo.textContent = `Score: ${score} / ${combinedQuestions.length}`;
            currentQuestionIndex++;
            // Wait a moment then load the next question
            setTimeout(updateQuestion, 3000); 
        }
        function endGame(isWin) {
            stopStopwatch();
            const gameOverTitle = document.getElementById("gameOverTitle");
            const gameOverMessage = document.getElementById("gameOverMessage");
            const finalTime = `${Math.floor(timeElapsed / 60)}m ${timeElapsed % 60}s`;
            if (isWin) {
                // WIN: immediate popup
                gameOverPopup.style.backgroundColor = 'rgba(76, 175, 80, 0.9)';
                gameOverTitle.textContent = "YOU WON!";
                gameOverMessage.innerHTML = `You correctly answered all ${combinedQuestions.length} questions!<br>Total Time: **${finalTime}**`;
                gameOverPopup.classList.remove("hidden");
                return;
            }
            // COLLISION: play explosion sprite, hide players, then show game over popup
            const collisionCenter = (player1Pos + player2Pos) / 2;
            const explosionLeft = collisionCenter + (PLAYER_SIZE / 2) - (EXPLOSION_FRAME_SIZE / 2);
            explosionDiv.style.left = `${explosionLeft}px`;
            player1.style.display = 'none';
            player2.style.display = 'none';
            explosionDiv.classList.add('exploding');
            setTimeout(() => {
                gameOverPopup.style.backgroundColor = 'rgba(255, 68, 68, 0.9)';
                gameOverTitle.textContent = "ðŸ’¥ COLLISION! Game Over.";
                gameOverMessage.innerHTML = `The players collided after **${timeElapsed} seconds**.<br>Your final score: **${score} / ${combinedQuestions.length}**`;
                gameOverPopup.classList.remove("hidden");
            }, 800); // matches CSS explode animation duration
        }
        // --- INITIALIZATION ---
        window.addEventListener("keydown", startGame, { once: true });
        function startGame() {
            if (gameStarted) return;
            gameStarted = true;
            readyPopup.classList.add("hidden");
            document.getElementById("gameContent").classList.remove("hidden");
            // Initial setup
            player1.style.left = player1Pos + "px";
            player2.style.left = player2Pos + "px";
            startStopwatch();
            startMovement();
            updateQuestion();
        }
    </script>
</body>
</html>







